# Database Schema Diagram

```mermaid
flowchart TD
    subgraph section_0["<span style="font-size: 20px; font-weight: bold;">User Management</span>"]
        user["<span style="font-size: 16px;"><b>user</b></span><br/>---<br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">id</span><span style="text-align: right;">SERIAL</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">username</span><span style="text-align: right;">varchar(50)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">email</span><span style="text-align: right;">varchar(100)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">password_hash</span><span style="text-align: right;">varchar(255)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">created_at</span><span style="text-align: right;">timestamp</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">updated_at</span><span style="text-align: right;">timestamp</span></div>"]
        user_profile["<span style="font-size: 16px;"><b>user_profile</b></span><br/>---<br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">id</span><span style="text-align: right;">SERIAL</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">user_id</span><span style="text-align: right;">integer (FK)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">first_name</span><span style="text-align: right;">varchar(50)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">last_name</span><span style="text-align: right;">varchar(50)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">bio</span><span style="text-align: right;">text</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">avatar_url</span><span style="text-align: right;">varchar(255)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">created_at</span><span style="text-align: right;">timestamp</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">updated_at</span><span style="text-align: right;">timestamp</span></div>"]
    end
    style section_0 fill:#FFB3B3,stroke:#333,stroke-width:2px,color:#000
    style user fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
    style user_profile fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
    subgraph section_1["<span style="font-size: 20px; font-weight: bold;">Content Management</span>"]
        category["<span style="font-size: 16px;"><b>category</b></span><br/>---<br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">id</span><span style="text-align: right;">SERIAL</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">name</span><span style="text-align: right;">varchar(100)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">description</span><span style="text-align: right;">text</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">created_at</span><span style="text-align: right;">timestamp</span></div>"]
        post["<span style="font-size: 16px;"><b>post</b></span><br/>---<br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">id</span><span style="text-align: right;">SERIAL</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">user_id</span><span style="text-align: right;">integer (FK)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">category_id</span><span style="text-align: right;">integer (FK)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">title</span><span style="text-align: right;">varchar(200)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">content</span><span style="text-align: right;">text</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">status</span><span style="text-align: right;">varchar(20)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">published_at</span><span style="text-align: right;">timestamp</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">created_at</span><span style="text-align: right;">timestamp</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">updated_at</span><span style="text-align: right;">timestamp</span></div>"]
        comment["<span style="font-size: 16px;"><b>comment</b></span><br/>---<br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">id</span><span style="text-align: right;">SERIAL</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">post_id</span><span style="text-align: right;">integer (FK)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">user_id</span><span style="text-align: right;">integer (FK)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">parent_comment_id</span><span style="text-align: right;">integer (FK)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">content</span><span style="text-align: right;">text</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">created_at</span><span style="text-align: right;">timestamp</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">updated_at</span><span style="text-align: right;">timestamp</span></div>"]
    end
    style section_1 fill:#B3D9FF,stroke:#333,stroke-width:2px,color:#000
    style category fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
    style post fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
    style comment fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
    subgraph section_2["<span style="font-size: 20px; font-weight: bold;">Engagement</span>"]
        vote["<span style="font-size: 16px;"><b>vote</b></span><br/>---<br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">id</span><span style="text-align: right;">SERIAL</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">post_id</span><span style="text-align: right;">integer (FK)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">user_id</span><span style="text-align: right;">integer (FK)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">vote_type</span><span style="text-align: right;">varchar(10)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">created_at</span><span style="text-align: right;">timestamp</span></div>"]
        bookmark["<span style="font-size: 16px;"><b>bookmark</b></span><br/>---<br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">id</span><span style="text-align: right;">SERIAL</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">post_id</span><span style="text-align: right;">integer (FK)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">user_id</span><span style="text-align: right;">integer (FK)</span></div><br/><div style="display: flex; justify-content: space-between; font-size: 12px;"><span style="text-align: left;">created_at</span><span style="text-align: right;">timestamp</span></div>"]
    end
    style section_2 fill:#B3FFB3,stroke:#333,stroke-width:2px,color:#000
    style vote fill:#E5FFE5,stroke:#333,stroke-width:1px,color:#000
    style bookmark fill:#E5FFE5,stroke:#333,stroke-width:1px,color:#000
    user_profile --> user
    post --> user
    post --> category
    comment --> post
    comment --> user
    comment --> comment
    vote --> post
    vote --> user
    bookmark --> post
    bookmark --> user
```

## Source Files

1. [test_with_sections.sql](tests/diagram_output_tests/test_with_sections.sql)
