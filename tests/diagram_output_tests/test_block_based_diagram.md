# Database Schema Diagram

```mermaid
flowchart TD
    subgraph section_0["<span style="font-size: 20px; font-weight: bold;">User Management</span>"]
        user_header["<span style="font-size: 16px;"><b>user</b></span>"]
        user_col_0_name["<span style="font-size: 12px;">id</span>"]
        user_col_0_type["<span style="font-size: 12px;">SERIAL</span>"]
        user_col_1_name["<span style="font-size: 12px;">username</span>"]
        user_col_1_type["<span style="font-size: 12px;">varchar(50)</span>"]
        user_col_2_name["<span style="font-size: 12px;">email</span>"]
        user_col_2_type["<span style="font-size: 12px;">varchar(100)</span>"]
        user_col_3_name["<span style="font-size: 12px;">password_hash</span>"]
        user_col_3_type["<span style="font-size: 12px;">varchar(255)</span>"]
        user_col_4_name["<span style="font-size: 12px;">created_at</span>"]
        user_col_4_type["<span style="font-size: 12px;">timestamp</span>"]
        user_col_5_name["<span style="font-size: 12px;">updated_at</span>"]
        user_col_5_type["<span style="font-size: 12px;">timestamp</span>"]
        style user_header fill:#CCCCCC,stroke:#333,stroke-width:2px,color:#000
        style user_col_0_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_col_0_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_col_1_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_col_1_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_col_2_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_col_2_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_col_3_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_col_3_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_col_4_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_col_4_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_col_5_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_col_5_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        user_col_0_name --- user_col_0_type
        user_header --- user_col_0_name
        user_col_1_name --- user_col_1_type
        user_col_0_name --- user_col_1_name
        user_col_0_type --- user_col_1_type
        user_col_2_name --- user_col_2_type
        user_col_1_name --- user_col_2_name
        user_col_1_type --- user_col_2_type
        user_col_3_name --- user_col_3_type
        user_col_2_name --- user_col_3_name
        user_col_2_type --- user_col_3_type
        user_col_4_name --- user_col_4_type
        user_col_3_name --- user_col_4_name
        user_col_3_type --- user_col_4_type
        user_col_5_name --- user_col_5_type
        user_col_4_name --- user_col_5_name
        user_col_4_type --- user_col_5_type
        user_profile_header["<span style="font-size: 16px;"><b>user_profile</b></span>"]
        user_profile_col_0_name["<span style="font-size: 12px;">id</span>"]
        user_profile_col_0_type["<span style="font-size: 12px;">SERIAL</span>"]
        user_profile_col_1_name["<span style="font-size: 12px;">user_id</span>"]
        user_profile_col_1_type["<span style="font-size: 12px;">integer (FK)</span>"]
        user_profile_col_2_name["<span style="font-size: 12px;">first_name</span>"]
        user_profile_col_2_type["<span style="font-size: 12px;">varchar(50)</span>"]
        user_profile_col_3_name["<span style="font-size: 12px;">last_name</span>"]
        user_profile_col_3_type["<span style="font-size: 12px;">varchar(50)</span>"]
        user_profile_col_4_name["<span style="font-size: 12px;">bio</span>"]
        user_profile_col_4_type["<span style="font-size: 12px;">text</span>"]
        user_profile_col_5_name["<span style="font-size: 12px;">avatar_url</span>"]
        user_profile_col_5_type["<span style="font-size: 12px;">varchar(255)</span>"]
        user_profile_col_6_name["<span style="font-size: 12px;">created_at</span>"]
        user_profile_col_6_type["<span style="font-size: 12px;">timestamp</span>"]
        user_profile_col_7_name["<span style="font-size: 12px;">updated_at</span>"]
        user_profile_col_7_type["<span style="font-size: 12px;">timestamp</span>"]
        style user_profile_header fill:#CCCCCC,stroke:#333,stroke-width:2px,color:#000
        style user_profile_col_0_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_0_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_1_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_1_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_2_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_2_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_3_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_3_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_4_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_4_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_5_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_5_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_6_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_6_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_7_name fill:#FFE5E5,stroke:#333,stroke-width:1px,color:#000
        style user_profile_col_7_type fill:#FFD0D0,stroke:#333,stroke-width:1px,color:#000
        user_profile_col_0_name --- user_profile_col_0_type
        user_profile_header --- user_profile_col_0_name
        user_profile_col_1_name --- user_profile_col_1_type
        user_profile_col_0_name --- user_profile_col_1_name
        user_profile_col_0_type --- user_profile_col_1_type
        user_profile_col_2_name --- user_profile_col_2_type
        user_profile_col_1_name --- user_profile_col_2_name
        user_profile_col_1_type --- user_profile_col_2_type
        user_profile_col_3_name --- user_profile_col_3_type
        user_profile_col_2_name --- user_profile_col_3_name
        user_profile_col_2_type --- user_profile_col_3_type
        user_profile_col_4_name --- user_profile_col_4_type
        user_profile_col_3_name --- user_profile_col_4_name
        user_profile_col_3_type --- user_profile_col_4_type
        user_profile_col_5_name --- user_profile_col_5_type
        user_profile_col_4_name --- user_profile_col_5_name
        user_profile_col_4_type --- user_profile_col_5_type
        user_profile_col_6_name --- user_profile_col_6_type
        user_profile_col_5_name --- user_profile_col_6_name
        user_profile_col_5_type --- user_profile_col_6_type
        user_profile_col_7_name --- user_profile_col_7_type
        user_profile_col_6_name --- user_profile_col_7_name
        user_profile_col_6_type --- user_profile_col_7_type
    end
    style section_0 fill:#FFB3B3,stroke:#333,stroke-width:2px,color:#000
    subgraph section_1["<span style="font-size: 20px; font-weight: bold;">Content Management</span>"]
        category_header["<span style="font-size: 16px;"><b>category</b></span>"]
        category_col_0_name["<span style="font-size: 12px;">id</span>"]
        category_col_0_type["<span style="font-size: 12px;">SERIAL</span>"]
        category_col_1_name["<span style="font-size: 12px;">name</span>"]
        category_col_1_type["<span style="font-size: 12px;">varchar(100)</span>"]
        category_col_2_name["<span style="font-size: 12px;">description</span>"]
        category_col_2_type["<span style="font-size: 12px;">text</span>"]
        category_col_3_name["<span style="font-size: 12px;">created_at</span>"]
        category_col_3_type["<span style="font-size: 12px;">timestamp</span>"]
        style category_header fill:#CCCCCC,stroke:#333,stroke-width:2px,color:#000
        style category_col_0_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style category_col_0_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style category_col_1_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style category_col_1_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style category_col_2_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style category_col_2_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style category_col_3_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style category_col_3_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        category_col_0_name --- category_col_0_type
        category_header --- category_col_0_name
        category_col_1_name --- category_col_1_type
        category_col_0_name --- category_col_1_name
        category_col_0_type --- category_col_1_type
        category_col_2_name --- category_col_2_type
        category_col_1_name --- category_col_2_name
        category_col_1_type --- category_col_2_type
        category_col_3_name --- category_col_3_type
        category_col_2_name --- category_col_3_name
        category_col_2_type --- category_col_3_type
        post_header["<span style="font-size: 16px;"><b>post</b></span>"]
        post_col_0_name["<span style="font-size: 12px;">id</span>"]
        post_col_0_type["<span style="font-size: 12px;">SERIAL</span>"]
        post_col_1_name["<span style="font-size: 12px;">user_id</span>"]
        post_col_1_type["<span style="font-size: 12px;">integer (FK)</span>"]
        post_col_2_name["<span style="font-size: 12px;">category_id</span>"]
        post_col_2_type["<span style="font-size: 12px;">integer (FK)</span>"]
        post_col_3_name["<span style="font-size: 12px;">title</span>"]
        post_col_3_type["<span style="font-size: 12px;">varchar(200)</span>"]
        post_col_4_name["<span style="font-size: 12px;">content</span>"]
        post_col_4_type["<span style="font-size: 12px;">text</span>"]
        post_col_5_name["<span style="font-size: 12px;">status</span>"]
        post_col_5_type["<span style="font-size: 12px;">varchar(20)</span>"]
        post_col_6_name["<span style="font-size: 12px;">published_at</span>"]
        post_col_6_type["<span style="font-size: 12px;">timestamp</span>"]
        post_col_7_name["<span style="font-size: 12px;">created_at</span>"]
        post_col_7_type["<span style="font-size: 12px;">timestamp</span>"]
        post_col_8_name["<span style="font-size: 12px;">updated_at</span>"]
        post_col_8_type["<span style="font-size: 12px;">timestamp</span>"]
        style post_header fill:#CCCCCC,stroke:#333,stroke-width:2px,color:#000
        style post_col_0_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_0_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_1_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_1_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_2_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_2_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_3_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_3_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_4_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_4_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_5_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_5_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_6_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_6_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_7_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_7_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_8_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style post_col_8_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        post_col_0_name --- post_col_0_type
        post_header --- post_col_0_name
        post_col_1_name --- post_col_1_type
        post_col_0_name --- post_col_1_name
        post_col_0_type --- post_col_1_type
        post_col_2_name --- post_col_2_type
        post_col_1_name --- post_col_2_name
        post_col_1_type --- post_col_2_type
        post_col_3_name --- post_col_3_type
        post_col_2_name --- post_col_3_name
        post_col_2_type --- post_col_3_type
        post_col_4_name --- post_col_4_type
        post_col_3_name --- post_col_4_name
        post_col_3_type --- post_col_4_type
        post_col_5_name --- post_col_5_type
        post_col_4_name --- post_col_5_name
        post_col_4_type --- post_col_5_type
        post_col_6_name --- post_col_6_type
        post_col_5_name --- post_col_6_name
        post_col_5_type --- post_col_6_type
        post_col_7_name --- post_col_7_type
        post_col_6_name --- post_col_7_name
        post_col_6_type --- post_col_7_type
        post_col_8_name --- post_col_8_type
        post_col_7_name --- post_col_8_name
        post_col_7_type --- post_col_8_type
        comment_header["<span style="font-size: 16px;"><b>comment</b></span>"]
        comment_col_0_name["<span style="font-size: 12px;">id</span>"]
        comment_col_0_type["<span style="font-size: 12px;">SERIAL</span>"]
        comment_col_1_name["<span style="font-size: 12px;">post_id</span>"]
        comment_col_1_type["<span style="font-size: 12px;">integer (FK)</span>"]
        comment_col_2_name["<span style="font-size: 12px;">user_id</span>"]
        comment_col_2_type["<span style="font-size: 12px;">integer (FK)</span>"]
        comment_col_3_name["<span style="font-size: 12px;">parent_comment_id</span>"]
        comment_col_3_type["<span style="font-size: 12px;">integer (FK)</span>"]
        comment_col_4_name["<span style="font-size: 12px;">content</span>"]
        comment_col_4_type["<span style="font-size: 12px;">text</span>"]
        comment_col_5_name["<span style="font-size: 12px;">created_at</span>"]
        comment_col_5_type["<span style="font-size: 12px;">timestamp</span>"]
        comment_col_6_name["<span style="font-size: 12px;">updated_at</span>"]
        comment_col_6_type["<span style="font-size: 12px;">timestamp</span>"]
        style comment_header fill:#CCCCCC,stroke:#333,stroke-width:2px,color:#000
        style comment_col_0_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_0_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_1_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_1_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_2_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_2_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_3_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_3_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_4_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_4_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_5_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_5_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_6_name fill:#E5F3FF,stroke:#333,stroke-width:1px,color:#000
        style comment_col_6_type fill:#D0E8FF,stroke:#333,stroke-width:1px,color:#000
        comment_col_0_name --- comment_col_0_type
        comment_header --- comment_col_0_name
        comment_col_1_name --- comment_col_1_type
        comment_col_0_name --- comment_col_1_name
        comment_col_0_type --- comment_col_1_type
        comment_col_2_name --- comment_col_2_type
        comment_col_1_name --- comment_col_2_name
        comment_col_1_type --- comment_col_2_type
        comment_col_3_name --- comment_col_3_type
        comment_col_2_name --- comment_col_3_name
        comment_col_2_type --- comment_col_3_type
        comment_col_4_name --- comment_col_4_type
        comment_col_3_name --- comment_col_4_name
        comment_col_3_type --- comment_col_4_type
        comment_col_5_name --- comment_col_5_type
        comment_col_4_name --- comment_col_5_name
        comment_col_4_type --- comment_col_5_type
        comment_col_6_name --- comment_col_6_type
        comment_col_5_name --- comment_col_6_name
        comment_col_5_type --- comment_col_6_type
    end
    style section_1 fill:#B3D9FF,stroke:#333,stroke-width:2px,color:#000
    subgraph section_2["<span style="font-size: 20px; font-weight: bold;">Engagement</span>"]
        vote_header["<span style="font-size: 16px;"><b>vote</b></span>"]
        vote_col_0_name["<span style="font-size: 12px;">id</span>"]
        vote_col_0_type["<span style="font-size: 12px;">SERIAL</span>"]
        vote_col_1_name["<span style="font-size: 12px;">post_id</span>"]
        vote_col_1_type["<span style="font-size: 12px;">integer (FK)</span>"]
        vote_col_2_name["<span style="font-size: 12px;">user_id</span>"]
        vote_col_2_type["<span style="font-size: 12px;">integer (FK)</span>"]
        vote_col_3_name["<span style="font-size: 12px;">vote_type</span>"]
        vote_col_3_type["<span style="font-size: 12px;">varchar(10)</span>"]
        vote_col_4_name["<span style="font-size: 12px;">created_at</span>"]
        vote_col_4_type["<span style="font-size: 12px;">timestamp</span>"]
        style vote_header fill:#CCCCCC,stroke:#333,stroke-width:2px,color:#000
        style vote_col_0_name fill:#E5FFE5,stroke:#333,stroke-width:1px,color:#000
        style vote_col_0_type fill:#D0FFD0,stroke:#333,stroke-width:1px,color:#000
        style vote_col_1_name fill:#E5FFE5,stroke:#333,stroke-width:1px,color:#000
        style vote_col_1_type fill:#D0FFD0,stroke:#333,stroke-width:1px,color:#000
        style vote_col_2_name fill:#E5FFE5,stroke:#333,stroke-width:1px,color:#000
        style vote_col_2_type fill:#D0FFD0,stroke:#333,stroke-width:1px,color:#000
        style vote_col_3_name fill:#E5FFE5,stroke:#333,stroke-width:1px,color:#000
        style vote_col_3_type fill:#D0FFD0,stroke:#333,stroke-width:1px,color:#000
        style vote_col_4_name fill:#E5FFE5,stroke:#333,stroke-width:1px,color:#000
        style vote_col_4_type fill:#D0FFD0,stroke:#333,stroke-width:1px,color:#000
        vote_col_0_name --- vote_col_0_type
        vote_header --- vote_col_0_name
        vote_col_1_name --- vote_col_1_type
        vote_col_0_name --- vote_col_1_name
        vote_col_0_type --- vote_col_1_type
        vote_col_2_name --- vote_col_2_type
        vote_col_1_name --- vote_col_2_name
        vote_col_1_type --- vote_col_2_type
        vote_col_3_name --- vote_col_3_type
        vote_col_2_name --- vote_col_3_name
        vote_col_2_type --- vote_col_3_type
        vote_col_4_name --- vote_col_4_type
        vote_col_3_name --- vote_col_4_name
        vote_col_3_type --- vote_col_4_type
        bookmark_header["<span style="font-size: 16px;"><b>bookmark</b></span>"]
        bookmark_col_0_name["<span style="font-size: 12px;">id</span>"]
        bookmark_col_0_type["<span style="font-size: 12px;">SERIAL</span>"]
        bookmark_col_1_name["<span style="font-size: 12px;">post_id</span>"]
        bookmark_col_1_type["<span style="font-size: 12px;">integer (FK)</span>"]
        bookmark_col_2_name["<span style="font-size: 12px;">user_id</span>"]
        bookmark_col_2_type["<span style="font-size: 12px;">integer (FK)</span>"]
        bookmark_col_3_name["<span style="font-size: 12px;">created_at</span>"]
        bookmark_col_3_type["<span style="font-size: 12px;">timestamp</span>"]
        style bookmark_header fill:#CCCCCC,stroke:#333,stroke-width:2px,color:#000
        style bookmark_col_0_name fill:#E5FFE5,stroke:#333,stroke-width:1px,color:#000
        style bookmark_col_0_type fill:#D0FFD0,stroke:#333,stroke-width:1px,color:#000
        style bookmark_col_1_name fill:#E5FFE5,stroke:#333,stroke-width:1px,color:#000
        style bookmark_col_1_type fill:#D0FFD0,stroke:#333,stroke-width:1px,color:#000
        style bookmark_col_2_name fill:#E5FFE5,stroke:#333,stroke-width:1px,color:#000
        style bookmark_col_2_type fill:#D0FFD0,stroke:#333,stroke-width:1px,color:#000
        style bookmark_col_3_name fill:#E5FFE5,stroke:#333,stroke-width:1px,color:#000
        style bookmark_col_3_type fill:#D0FFD0,stroke:#333,stroke-width:1px,color:#000
        bookmark_col_0_name --- bookmark_col_0_type
        bookmark_header --- bookmark_col_0_name
        bookmark_col_1_name --- bookmark_col_1_type
        bookmark_col_0_name --- bookmark_col_1_name
        bookmark_col_0_type --- bookmark_col_1_type
        bookmark_col_2_name --- bookmark_col_2_type
        bookmark_col_1_name --- bookmark_col_2_name
        bookmark_col_1_type --- bookmark_col_2_type
        bookmark_col_3_name --- bookmark_col_3_type
        bookmark_col_2_name --- bookmark_col_3_name
        bookmark_col_2_type --- bookmark_col_3_type
    end
    style section_2 fill:#B3FFB3,stroke:#333,stroke-width:2px,color:#000
    user_profile_col_1_name --> user_header
    post_col_1_name --> user_header
    post_col_2_name --> category_header
    comment_col_1_name --> post_header
    comment_col_2_name --> user_header
    comment_col_3_name --> comment_header
    vote_col_1_name --> post_header
    vote_col_2_name --> user_header
    bookmark_col_1_name --> post_header
    bookmark_col_2_name --> user_header
```

## Source Files

1. [test_with_sections.sql](tests/diagram_output_tests/test_with_sections.sql)
